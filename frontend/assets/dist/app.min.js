angular.module("app",["ngRoute","uiGmapgoogle-maps","highcharts-ng"]),function(){"use strict";function e(e){e.startSymbol("{_"),e.endSymbol("_}")}e.$inject=["$interpolateProvider"],angular.module("app").config(e)}(),angular.module("app").constant("ENV_VARS",{apiUrl:"http://127.0.0.1:8000/api/v1/reports/",apiToken:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0Nzc2NTA1NjUsInVzZXJuYW1lIjoibGVvIiwiZW1haWwiOiJsZW9AbGVvLmNvbSIsInVzZXJfaWQiOjF9.hfEIccwRvmxzI16mc9K21Sf_PMIoRPqaRnKHkfsPb6Y"}),function(){"use strict";function e(e,t){e.defaults.headers.common.Authorization="JWT "+t.apiToken}angular.module("app").run(e),e.$inject=["$http","ENV_VARS"]}(),function(){"use strict";function e(e,t,o,r){function n(){return a().then(function(e){s()})}function a(){return e.getReports().then(function(e){return angular.forEach(e,function(e){switch(e.status){case 1:l.reports.sentReports.push({location:new google.maps.LatLng(e.latitude,e.longitude),weight:40});break;case 2:l.reports.notResolvedReports.push({location:new google.maps.LatLng(e.latitude,e.longitude),weight:100});break;case 3:case 4:l.reports.resolvedReports.push({location:new google.maps.LatLng(e.latitude,e.longitude)});break;case 5:l.reports.transferredReports.push({location:new google.maps.LatLng(e.latitude,e.longitude)})}}),e})}function s(){var t=l.reports.notResolvedReports.length+l.reports.resolvedReports.length+l.reports.sentReports.length+l.reports.transferredReports.length,o=e.calculatePercentage([l.reports.sentReports.length,l.reports.notResolvedReports.length,l.reports.resolvedReports.length,l.reports.transferredReports.length],t);l.reportsChartConfig.series[0].data=[{name:"Enviadas",num_reports:l.reports.sentReports.length,y:o[0],color:"#EEEEEE"},{name:"Em análise",num_reports:l.reports.notResolvedReports.length,y:o[1],color:"#7F2B11"},{name:"Resolvidas",num_reports:l.reports.resolvedReports.length,y:o[2],color:"#FF5722"},{name:"Transferidas",num_reports:l.reports.transferredReports.length,y:o[3],color:"#FF9115"}]}function i(e){var t=l.reports.sentReports.concat(l.reports.notResolvedReports),o=["rgba(229, 153, 0, 0)","rgba(231, 141, 0, 1)","rgba(233, 130, 1, 1)","rgba(235, 118, 2, 1)","rgba(237, 107, 3, 1)","rgba(239, 96, 4, 1)","rgba(241, 84, 5, 1)","rgba(243, 73, 5, 1)","rgba(245, 61, 6, 1)","rgba(247, 50, 6, 1)","rgba(249, 39, 7, 1)","rgba(251, 27, 8, 1)","rgba(253, 16, 9, 1)","rgba(255, 5, 10, 1)"];e.set("gradient",e.get("gradient")?null:o),e.set("radius",20),e.set("opacity",.7),r.promise().then(function(o){var r=(o[0].map,new google.maps.MVCArray(t));e.setData(r)})}var l=this;l.title="HomeController",l.reports={sentReports:[],notResolvedReports:[],resolvedReports:[],transferredReports:[]},l.map={center:{latitude:-19.73639,longitude:-45.25222},zoom:14,options:{mapTypeControl:!1,mapScaleControl:!1,streetViewControl:!1,maxZoom:15,minZoom:14,scrollwheel:!1},showHeat:!1,heatLayerCallback:function(e){new i(e)}},l.reportsChartConfig={options:{chart:{type:"pie"},tooltip:{pointFormat:"{series.name}: <b> {point.num_reports} </b> <br/><b>{point.percentage:.2f}%</b> "},plotOptions:{pie:{cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.2f} %"},allowPointSelect:!1,showInLegend:!0,point:{events:{legendItemClick:function(e){e.preventDefault()}}}}}},series:[{name:"Nº de Denúncias",colorByPoint:!0,data:[]}],title:{text:"Histórico Atual de Denúncias de Criadouros do Aedes Aegypti da Cidade Bom Despacho"}},n(),o.then(function(e){l.map.showHeat=!0})}angular.module("app").controller("HomeController",e),e.$inject=["dataService","$timeout","uiGmapGoogleMapApi","uiGmapIsReady"]}(),function(){"use strict";function e(e){e.when("/",{templateUrl:"base.html",controller:"HomeController",controllerAs:"vm"})}e.$inject=["$routeProvider"],angular.module("app").config(e)}(),function(){"use strict";function e(e,t){function o(){function o(e){return e.data}function r(e){console.log(e)}return e.get(t.apiUrl).then(o).catch(r)}function r(e,t){var o=[];return angular.forEach(e,function(e){var r=e/t*100;o.push(r)}),o}var n={getReports:o,calculatePercentage:r};return n}angular.module("app").factory("dataService",e),e.$inject=["$http","ENV_VARS"]}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJhcHAuY29uZmlnLmpzIiwiYXBwLmNvbnN0YW50cy5qcyIsImFwcC5ydW4uanMiLCJob21lLmNvbnRyb2xsZXIuanMiLCJob21lLnJvdXRlcy5qcyIsImhvbWUuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJGludGVycG9sYXRlUHJvdmlkZXIiLCJzdGFydFN5bWJvbCIsImVuZFN5bWJvbCIsImNvbnN0YW50IiwiYXBpVXJsIiwiYXBpVG9rZW4iLCJydW5BcHAiLCIkaHR0cCIsIkVOVl9WQVJTIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwicnVuIiwiJGluamVjdCIsIkhvbWVDb250cm9sbGVyIiwiZGF0YVNlcnZpY2UiLCIkdGltZW91dCIsInVpR21hcEdvb2dsZU1hcEFwaSIsInVpR21hcElzUmVhZHkiLCJhY3RpdmF0ZSIsImdldFJlcG9ydHMiLCJ0aGVuIiwiXyIsImNhbGN1bGF0ZVBlcmNlbnRhZ2UiLCJkYXRhIiwiZm9yRWFjaCIsInJlcG9ydCIsInN0YXR1cyIsInZtIiwicmVwb3J0cyIsInNlbnRSZXBvcnRzIiwicHVzaCIsImxvY2F0aW9uIiwiZ29vZ2xlIiwibWFwcyIsIkxhdExuZyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwid2VpZ2h0Iiwibm90UmVzb2x2ZWRSZXBvcnRzIiwicmVzb2x2ZWRSZXBvcnRzIiwidHJhbnNmZXJyZWRSZXBvcnRzIiwidG90YWxSZXBvcnRzIiwibGVuZ3RoIiwicmVzdWx0cyIsInJlcG9ydHNDaGFydENvbmZpZyIsInNlcmllcyIsIm5hbWUiLCJudW1fcmVwb3J0cyIsInkiLCJjb2xvciIsIk1vY2tIZWF0TGF5ZXIiLCJoZWF0TGF5ZXIiLCJjb25jYXQiLCJncmFkaWVudCIsInNldCIsImdldCIsInByb21pc2UiLCJpbnN0YW5jZXMiLCJwb2ludEFycmF5IiwibWFwIiwiTVZDQXJyYXkiLCJzZXREYXRhIiwidGhpcyIsInRpdGxlIiwiY2VudGVyIiwiem9vbSIsIm9wdGlvbnMiLCJtYXBUeXBlQ29udHJvbCIsIm1hcFNjYWxlQ29udHJvbCIsInN0cmVldFZpZXdDb250cm9sIiwibWF4Wm9vbSIsIm1pblpvb20iLCJzY3JvbGx3aGVlbCIsInNob3dIZWF0IiwiaGVhdExheWVyQ2FsbGJhY2siLCJsYXllciIsImNoYXJ0IiwidHlwZSIsInRvb2x0aXAiLCJwb2ludEZvcm1hdCIsInBsb3RPcHRpb25zIiwicGllIiwiY3Vyc29yIiwiZGF0YUxhYmVscyIsImVuYWJsZWQiLCJmb3JtYXQiLCJhbGxvd1BvaW50U2VsZWN0Iiwic2hvd0luTGVnZW5kIiwicG9pbnQiLCJldmVudHMiLCJsZWdlbmRJdGVtQ2xpY2siLCJlIiwicHJldmVudERlZmF1bHQiLCJjb2xvckJ5UG9pbnQiLCJ0ZXh0IiwiY29udHJvbGxlciIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlckFzIiwiZ2V0UmVwb3J0c0NvbXBsZXRlIiwicmVzcG9uc2UiLCJnZXRSZXBvcnRzRmFpbGVkIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJ0b3RhbCIsIm5ld19kYXRhIiwidmFsdWUiLCJyZXN1bHQiLCJzZXJ2aWNlIiwiZmFjdG9yeSJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQ0FDLE9BQUEsT0FBQSxVQUFBLG9CQUFBLGtCQ0RBLHVCQU1BLFNBQUFDLEdBQUFDLEdBQ0FBLEVBQUFDLFlBQUEsTUFDQUQsRUFBQUUsVUFBQSx5Q0FOQUwsUUFDQUMsT0FBQSxPQUNBQyxPQUFBQSxNQ0pBRixRQUFBQyxPQUFBLE9BQ0FLLFNBQUEsWUFDQUMsT0FBQSx3Q0FDQUMsU0FBQSxrTENIQSxXQUNBLFlBT0EsU0FBQUMsR0FBQUMsRUFBQUMsR0FDQUQsRUFBQUUsU0FBQUMsUUFBQUMsT0FBQSxjQUFBLE9BQUFILEVBQUFILFNBUEFSLFFBQ0FDLE9BQUEsT0FDQWMsSUFBQU4sR0FFQUEsRUFBQU8sU0FBQSxRQUFBLGVDTkEsV0FD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YXJcbiAgICAubW9kdWxlKCdhcHAnLCBbJ25nUm91dGUnLCAgJ3VpR21hcGdvb2dsZS1tYXBzJywgJ2hpZ2hjaGFydHMtbmcnXSk7XG4gICAgIiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxuICAgICAgICAuY29uZmlnKGNvbmZpZyk7XG5cbiAgICBmdW5jdGlvbiBjb25maWcoJGludGVycG9sYXRlUHJvdmlkZXIpIHtcbiAgICAgICAkaW50ZXJwb2xhdGVQcm92aWRlci5zdGFydFN5bWJvbCgne18nKTtcbiAgICAgICAkaW50ZXJwb2xhdGVQcm92aWRlci5lbmRTeW1ib2woJ199Jyk7XG4gICAgfVxufSkoKTtcbiIsImFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpXG4uY29uc3RhbnQoXCJFTlZfVkFSU1wiLCB7XG4gIFwiYXBpVXJsXCI6IFwiaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS92MS9yZXBvcnRzL1wiLFxuICBcImFwaVRva2VuXCI6IFwiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6STFOaUo5LmV5SmxlSEFpT2pFME56YzJOVEExTmpVc0luVnpaWEp1WVcxbElqb2liR1Z2SWl3aVpXMWhhV3dpT2lKc1pXOUFiR1Z2TG1OdmJTSXNJblZ6WlhKZmFXUWlPakY5LmhmRUljY3dSdm14ekkxNm1jOUsyMVNmX1BNSW9SUHFhUm5LSGtmc1BiNllcIlxufSk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXG4gICAgICAgIC5ydW4ocnVuQXBwKTtcblxuICAgIHJ1bkFwcC4kaW5qZWN0ID0gWyckaHR0cCcsICdFTlZfVkFSUyddO1xuXG4gICAgZnVuY3Rpb24gcnVuQXBwKCRodHRwLCBFTlZfVkFSUykge1xuICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gJ0pXVCAnICsgRU5WX1ZBUlMuYXBpVG9rZW47XG4gICAgfVxuXG59KSgpO1xuXG4iLCIoZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgICAgLm1vZHVsZSgnYXBwJylcbiAgICAgIC5jb250cm9sbGVyKCdIb21lQ29udHJvbGxlcicsIEhvbWVDb250cm9sbGVyKTtcblxuICBIb21lQ29udHJvbGxlci4kaW5qZWN0ID0gWydkYXRhU2VydmljZScsICckdGltZW91dCcsICd1aUdtYXBHb29nbGVNYXBBcGknLCAndWlHbWFwSXNSZWFkeSddO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBIb21lQ29udHJvbGxlcihkYXRhU2VydmljZSwgICR0aW1lb3V0LCB1aUdtYXBHb29nbGVNYXBBcGksIHVpR21hcElzUmVhZHkpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIFxuICAgIHZtLnRpdGxlID0gJ0hvbWVDb250cm9sbGVyJztcbiAgICB2bS5yZXBvcnRzID0ge1xuICAgICAgJ3NlbnRSZXBvcnRzJzogW10sXG4gICAgICAnbm90UmVzb2x2ZWRSZXBvcnRzJzogW10sXG4gICAgICAncmVzb2x2ZWRSZXBvcnRzJzogW10sXG4gICAgICAndHJhbnNmZXJyZWRSZXBvcnRzJzogW11cbiAgICB9O1xuICAgIC8vICAgICBzdHlsZXM6ICAgIFt7XG4gICAgLy8gICB0ZXh0Q29sb3I6ICd3aGl0ZScsXG4gICAgLy8gICB1cmw6ICdodHRwOi8vczE1LnBvc3RpbWcub3JnL2Z1YXFycm90My9yc3pfY2x1c3Rlcl9yZXNpemUucG5nJyxcbiAgICAvLyAgIGhlaWdodDogNDAsXG4gICAgLy8gICB3aWR0aDogNDAsXG4gICAgLy8gICB0ZXh0U2l6ZTogMTEsXG4gICAgLy8gICBmb250V2VpZ2h0OiAnbm9ybWFsJ1xuICAgIC8vIH1dXG4gICAgdm0ubWFwID0ge1xuICAgICAgY2VudGVyOiB7bGF0aXR1ZGU6IC0xOS43MzYzOSwgbG9uZ2l0dWRlOiAtNDUuMjUyMjJ9LFxuICAgICAgem9vbTogMTQsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIG1hcFR5cGVDb250cm9sOiBmYWxzZSxcbiAgICAgICAgbWFwU2NhbGVDb250cm9sOiBmYWxzZSxcbiAgICAgICAgc3RyZWV0Vmlld0NvbnRyb2w6IGZhbHNlLFxuICAgICAgICBtYXhab29tOiAxNSxcbiAgICAgICAgbWluWm9vbTogMTQsXG4gICAgICAgIHNjcm9sbHdoZWVsOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHNob3dIZWF0OiBmYWxzZSxcbiAgICAgIGhlYXRMYXllckNhbGxiYWNrOiBmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAgICAgdmFyIG1vY2tIZWF0TGF5ZXIgPSBuZXcgTW9ja0hlYXRMYXllcihsYXllcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZtLnJlcG9ydHNDaGFydENvbmZpZyA9IHtcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgY2hhcnQ6IHtcbiAgICAgICAgICB0eXBlOiAncGllJ1xuICAgICAgICB9LFxuXG4gICAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgICBwb2ludEZvcm1hdDogXCJ7c2VyaWVzLm5hbWV9OiA8Yj4ge3BvaW50Lm51bV9yZXBvcnRzfSA8L2I+IFwiICtcbiAgICAgICAgICBcIjxici8+PGI+e3BvaW50LnBlcmNlbnRhZ2U6LjJmfSU8L2I+IFwiXG4gICAgICAgIH0sXG5cbiAgICAgICAgcGxvdE9wdGlvbnM6IHtcbiAgICAgICAgICBwaWU6IHtcbiAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgZGF0YUxhYmVsczoge1xuICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICBmb3JtYXQ6ICc8Yj57cG9pbnQubmFtZX08L2I+OiB7cG9pbnQucGVyY2VudGFnZTouMmZ9ICUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFsbG93UG9pbnRTZWxlY3Q6IGZhbHNlLFxuICAgICAgICAgICAgc2hvd0luTGVnZW5kOiB0cnVlLFxuICAgICAgICAgICAgcG9pbnQ6IHtcbiAgICAgICAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICAgICAgbGVnZW5kSXRlbUNsaWNrOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgc2VyaWVzOiBbe1xuICAgICAgICBuYW1lOiAnTsK6IGRlIERlbsO6bmNpYXMnLFxuICAgICAgICBjb2xvckJ5UG9pbnQ6IHRydWUsXG4gICAgICAgIGRhdGE6IFtdXG4gICAgICB9XSxcblxuICAgICAgdGl0bGU6IHtcbiAgICAgICAgdGV4dDogJ0hpc3TDs3JpY28gQXR1YWwgZGUgRGVuw7puY2lhcyBkZSBDcmlhZG91cm9zIGRvIEFlZGVzIEFlZ3lwdGkgZGEgQ2lkYWRlIEJvbSBEZXNwYWNobydcbiAgICAgIH1cblxuXG4gICAgfTtcblxuICAgIGFjdGl2YXRlKCk7XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgIHJldHVybiBnZXRSZXBvcnRzKCkudGhlbihmdW5jdGlvbiAoXykge1xuICAgICAgICBjYWxjdWxhdGVQZXJjZW50YWdlKCk7XG4gICAgICB9KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFJlcG9ydHMoKSB7XG4gICAgICByZXR1cm4gZGF0YVNlcnZpY2UuZ2V0UmVwb3J0cygpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkYXRhLCBmdW5jdGlvbiAocmVwb3J0KSB7XG4gICAgICAgICAgICAgIHN3aXRjaCAocmVwb3J0LnN0YXR1cykge1xuICAgICAgICAgICAgICAgIC8vIEVudmlhZGFzXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgdm0ucmVwb3J0cy5zZW50UmVwb3J0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IG5ldyBnb29nbGUubWFwcy5MYXRMbmcocmVwb3J0LmxhdGl0dWRlLCByZXBvcnQubG9uZ2l0dWRlKSxcbiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiA0MFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBFbSBhbsOhbGlzZVxuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgIHZtLnJlcG9ydHMubm90UmVzb2x2ZWRSZXBvcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhyZXBvcnQubGF0aXR1ZGUsIHJlcG9ydC5sb25naXR1ZGUpLFxuICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDEwMFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBGb2NvIHRyYXRhZG8gb3UgbsOjbyBlbmNvbnRyYWRvXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgIHZtLnJlcG9ydHMucmVzb2x2ZWRSZXBvcnRzLnB1c2goe2xvY2F0aW9uOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHJlcG9ydC5sYXRpdHVkZSwgcmVwb3J0LmxvbmdpdHVkZSl9KTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vIHRyYW5zZmVyaWRhXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgdm0ucmVwb3J0cy50cmFuc2ZlcnJlZFJlcG9ydHMucHVzaCh7bG9jYXRpb246IG5ldyBnb29nbGUubWFwcy5MYXRMbmcocmVwb3J0LmxhdGl0dWRlLCByZXBvcnQubG9uZ2l0dWRlKX0pXG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVBlcmNlbnRhZ2UoKSB7XG4gICAgICB2YXIgdG90YWxSZXBvcnRzID0gdm0ucmVwb3J0cy5ub3RSZXNvbHZlZFJlcG9ydHMubGVuZ3RoICsgdm0ucmVwb3J0cy5yZXNvbHZlZFJlcG9ydHMubGVuZ3RoICtcbiAgICAgICAgICB2bS5yZXBvcnRzLnNlbnRSZXBvcnRzLmxlbmd0aCArICB2bS5yZXBvcnRzLnRyYW5zZmVycmVkUmVwb3J0cy5sZW5ndGg7XG5cbiAgICAgIHZhciByZXN1bHRzID0gZGF0YVNlcnZpY2UuY2FsY3VsYXRlUGVyY2VudGFnZShcbiAgICAgICAgICBbdm0ucmVwb3J0cy5zZW50UmVwb3J0cy5sZW5ndGgsIHZtLnJlcG9ydHMubm90UmVzb2x2ZWRSZXBvcnRzLmxlbmd0aCxcbiAgICAgICAgICAgIHZtLnJlcG9ydHMucmVzb2x2ZWRSZXBvcnRzLmxlbmd0aCwgIHZtLnJlcG9ydHMudHJhbnNmZXJyZWRSZXBvcnRzLmxlbmd0aF0sIHRvdGFsUmVwb3J0c1xuICAgICAgKTtcblxuICAgICAgdm0ucmVwb3J0c0NoYXJ0Q29uZmlnLnNlcmllc1swXS5kYXRhID0gW3tcbiAgICAgICAgbmFtZTogJ0VudmlhZGFzJyxcbiAgICAgICAgbnVtX3JlcG9ydHM6IHZtLnJlcG9ydHMuc2VudFJlcG9ydHMubGVuZ3RoLFxuICAgICAgICB5OiByZXN1bHRzWzBdLFxuICAgICAgICBjb2xvcjogJyNFRUVFRUUnXG4gICAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdFbSBhbsOhbGlzZScsXG4gICAgICAgIG51bV9yZXBvcnRzOiB2bS5yZXBvcnRzLm5vdFJlc29sdmVkUmVwb3J0cy5sZW5ndGgsXG4gICAgICAgIHk6IHJlc3VsdHNbMV0sXG4gICAgICAgIGNvbG9yOiAnIzdGMkIxMSdcbiAgICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ1Jlc29sdmlkYXMnLFxuICAgICAgICBudW1fcmVwb3J0czogdm0ucmVwb3J0cy5yZXNvbHZlZFJlcG9ydHMubGVuZ3RoLFxuICAgICAgICB5OiByZXN1bHRzWzJdLFxuICAgICAgICBjb2xvcjogJyNGRjU3MjInXG4gICAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdUcmFuc2ZlcmlkYXMnLFxuICAgICAgICBudW1fcmVwb3J0czogIHZtLnJlcG9ydHMudHJhbnNmZXJyZWRSZXBvcnRzLmxlbmd0aCxcbiAgICAgICAgeTogcmVzdWx0c1szXSxcbiAgICAgICAgY29sb3I6ICcjRkY5MTE1J1xuICAgICAgfV07XG4gICAgfVxuXG4gICAgdWlHbWFwR29vZ2xlTWFwQXBpLnRoZW4oZnVuY3Rpb24obWFwcykge1xuICAgICAgdm0ubWFwLnNob3dIZWF0ID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIE1vY2tIZWF0TGF5ZXIoaGVhdExheWVyKSB7XG4gICAgICAvLyBBcGVuYXMgZGVuw7puY2lhcyBxdWUgZm9yYW0gZW52aWFkYXMgZSBhcyBxdWVlc3TDo28gZW0gYW5hbGlzZVxuICAgICAgdmFyIGRhdGEgPSB2bS5yZXBvcnRzLnNlbnRSZXBvcnRzLmNvbmNhdCh2bS5yZXBvcnRzLm5vdFJlc29sdmVkUmVwb3J0cyk7XG4gICAgICB2YXIgZ3JhZGllbnQgPSBbXG4gICAgICAgICdyZ2JhKDIyOSwgMTUzLCAwLCAwKScsXG4gICAgICAgICdyZ2JhKDIzMSwgMTQxLCAwLCAxKScsXG4gICAgICAgICdyZ2JhKDIzMywgMTMwLCAxLCAxKScsXG4gICAgICAgICdyZ2JhKDIzNSwgMTE4LCAyLCAxKScsXG4gICAgICAgICdyZ2JhKDIzNywgMTA3LCAzLCAxKScsXG4gICAgICAgICdyZ2JhKDIzOSwgOTYsIDQsIDEpJyxcbiAgICAgICAgJ3JnYmEoMjQxLCA4NCwgNSwgMSknLFxuICAgICAgICAncmdiYSgyNDMsIDczLCA1LCAxKScsXG4gICAgICAgICdyZ2JhKDI0NSwgNjEsIDYsIDEpJyxcbiAgICAgICAgJ3JnYmEoMjQ3LCA1MCwgNiwgMSknLFxuICAgICAgICAncmdiYSgyNDksIDM5LCA3LCAxKScsXG4gICAgICAgICdyZ2JhKDI1MSwgMjcsIDgsIDEpJyxcbiAgICAgICAgJ3JnYmEoMjUzLCAxNiwgOSwgMSknLFxuICAgICAgICAncmdiYSgyNTUsIDUsIDEwLCAxKSdcbiAgICAgIF07XG4gICAgICBoZWF0TGF5ZXIuc2V0KCdncmFkaWVudCcsIGhlYXRMYXllci5nZXQoJ2dyYWRpZW50JykgPyBudWxsIDogZ3JhZGllbnQpO1xuICAgICAgaGVhdExheWVyLnNldCgncmFkaXVzJywgMjApO1xuICAgICAgaGVhdExheWVyLnNldCgnb3BhY2l0eScsIDAuNyk7XG4gICAgICAvLyAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB1aUdtYXBJc1JlYWR5LnByb21pc2UoKS50aGVuKGZ1bmN0aW9uKGluc3RhbmNlcyl7XG4gICAgICAgIHZhciBtYXBzID0gaW5zdGFuY2VzWzBdLm1hcDtcbiAgICAgICAgdmFyIHBvaW50QXJyYXkgPSBuZXcgZ29vZ2xlLm1hcHMuTVZDQXJyYXkoZGF0YSk7XG4gICAgICAgIGhlYXRMYXllci5zZXREYXRhKHBvaW50QXJyYXkpXG4gICAgICB9KTtcblxuXG4gICAgICAvLyB9LCAxMDAwKTtcbiAgICB9XG4gIH1cblxufSkoKTtcblxuIiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcCcpXG4gICAgICAgIC5jb25maWcoY29uZmlnKTtcblxuICAgIGZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlcikge1xuICAgICAgICAkcm91dGVQcm92aWRlclxuICAgICAgICAgICAgLndoZW4oJy8nLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdiYXNlLmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdIb21lQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcbiAgICAgICAgLmZhY3RvcnkoJ2RhdGFTZXJ2aWNlJywgZGF0YVNlcnZpY2UpO1xuXG4gICAgZGF0YVNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnRU5WX1ZBUlMnXTtcblxuICAgIGZ1bmN0aW9uIGRhdGFTZXJ2aWNlKCRodHRwLCBFTlZfVkFSUykge1xuICAgICAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgICAgICAgIGdldFJlcG9ydHM6IGdldFJlcG9ydHMsXG4gICAgICAgICAgICBjYWxjdWxhdGVQZXJjZW50YWdlOiBjYWxjdWxhdGVQZXJjZW50YWdlXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldFJlcG9ydHMoKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KEVOVl9WQVJTLmFwaVVybClcbiAgICAgICAgICAgICAgICAudGhlbihnZXRSZXBvcnRzQ29tcGxldGUpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGdldFJlcG9ydHNGYWlsZWQpO1xuXG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFJlcG9ydHNDb21wbGV0ZShyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRSZXBvcnRzRmFpbGVkKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjYWxjdWxhdGVQZXJjZW50YWdlKGRhdGEsIHRvdGFsKXtcbiAgICAgICAgICAgIHZhciBuZXdfZGF0YSA9IFtdO1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGEsIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gKCh2YWx1ZS90b3RhbCkgKiAxMDApO1xuICAgICAgICAgICAgICAgIG5ld19kYXRhLnB1c2gocmVzdWx0KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3X2RhdGE7XG4gICAgICAgIH1cblxuXG4gICAgfVxuXG59KSgpO1xuXG4iXX0=
