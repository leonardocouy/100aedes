angular.module("app",["ngRoute","uiGmapgoogle-maps","highcharts-ng"]),function(){"use strict";function e(e){e.startSymbol("{_"),e.endSymbol("_}")}e.$inject=["$interpolateProvider"],angular.module("app").config(e)}(),function(){return angular.module("app").constant("ENV_VARS",{apiUrl:"http://127.0.0.1:8000/api/v1/reports/",apiToken:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0Nzc2NTA1NjUsInVzZXJuYW1lIjoibGVvIiwiZW1haWwiOiJsZW9AbGVvLmNvbSIsInVzZXJfaWQiOjF9.hfEIccwRvmxzI16mc9K21Sf_PMIoRPqaRnKHkfsPb6Y"})}(),function(){"use strict";function e(e,t){e.defaults.headers.common.Authorization="JWT "+t.apiToken}angular.module("app").run(e),e.$inject=["$http","ENV_VARS"]}(),function(){"use strict";function e(e,t,o,r){function n(){return a().then(function(e){s()})}function a(){return e.getReports().then(function(e){return angular.forEach(e,function(e){switch(e.status){case 1:l.reports.sentReports.push({location:new google.maps.LatLng(e.latitude,e.longitude),weight:40});break;case 2:l.reports.notResolvedReports.push({location:new google.maps.LatLng(e.latitude,e.longitude),weight:100});break;case 3:case 4:l.reports.resolvedReports.push({location:new google.maps.LatLng(e.latitude,e.longitude)});break;case 5:l.reports.transferredReports.push({location:new google.maps.LatLng(e.latitude,e.longitude)})}}),e})}function s(){var t=l.reports.notResolvedReports.length+l.reports.resolvedReports.length+l.reports.sentReports.length+l.reports.transferredReports.length,o=e.calculatePercentage([l.reports.sentReports.length,l.reports.notResolvedReports.length,l.reports.resolvedReports.length,l.reports.transferredReports.length],t);l.reportsChartConfig.series[0].data=[{name:"Enviadas",num_reports:l.reports.sentReports.length,y:o[0],color:"#EEEEEE"},{name:"Em análise",num_reports:l.reports.notResolvedReports.length,y:o[1],color:"#7F2B11"},{name:"Resolvidas",num_reports:l.reports.resolvedReports.length,y:o[2],color:"#FF5722"},{name:"Transferidas",num_reports:l.reports.transferredReports.length,y:o[3],color:"#FF9115"}]}function i(e){var t=l.reports.sentReports.concat(l.reports.notResolvedReports),o=["rgba(229, 153, 0, 0)","rgba(231, 141, 0, 1)","rgba(233, 130, 1, 1)","rgba(235, 118, 2, 1)","rgba(237, 107, 3, 1)","rgba(239, 96, 4, 1)","rgba(241, 84, 5, 1)","rgba(243, 73, 5, 1)","rgba(245, 61, 6, 1)","rgba(247, 50, 6, 1)","rgba(249, 39, 7, 1)","rgba(251, 27, 8, 1)","rgba(253, 16, 9, 1)","rgba(255, 5, 10, 1)"];e.set("gradient",e.get("gradient")?null:o),e.set("radius",20),e.set("opacity",.7),r.promise().then(function(o){var r=(o[0].map,new google.maps.MVCArray(t));e.setData(r)})}var l=this;l.title="HomeController",l.reports={sentReports:[],notResolvedReports:[],resolvedReports:[],transferredReports:[]},l.map={center:{latitude:-19.73639,longitude:-45.25222},zoom:14,options:{mapTypeControl:!1,mapScaleControl:!1,streetViewControl:!1,maxZoom:15,minZoom:14,scrollwheel:!1},showHeat:!1,heatLayerCallback:function(e){new i(e)}},l.reportsChartConfig={options:{chart:{type:"pie"},tooltip:{pointFormat:"{series.name}: <b> {point.num_reports} </b> <br/><b>{point.percentage:.2f}%</b> "},plotOptions:{pie:{cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.2f} %"},allowPointSelect:!1,showInLegend:!0,point:{events:{legendItemClick:function(e){e.preventDefault()}}}}}},series:[{name:"Nº de Denúncias",colorByPoint:!0,data:[]}],title:{text:"Histórico Atual de Denúncias de Criadouros do Aedes Aegypti da Cidade Bom Despacho"}},n(),o.then(function(e){l.map.showHeat=!0})}angular.module("app").controller("HomeController",e),e.$inject=["dataService","$timeout","uiGmapGoogleMapApi","uiGmapIsReady"]}(),function(){"use strict";function e(e){e.when("/",{templateUrl:"base.html",controller:"HomeController",controllerAs:"vm"})}e.$inject=["$routeProvider"],angular.module("app").config(e)}(),function(){"use strict";function e(e,t){function o(){function o(e){return e.data}function r(e){console.log(e)}return e.get(t.apiUrl).then(o).catch(r)}function r(e,t){var o=[];return angular.forEach(e,function(e){var r=e/t*100;o.push(r)}),o}var n={getReports:o,calculatePercentage:r};return n}angular.module("app").factory("dataService",e),e.$inject=["$http","ENV_VARS"]}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJhcHAuY29uZmlnLmpzIiwiYXBwLmNvbnN0YW50cy5qcyIsImFwcC5ydW4uanMiLCJob21lLmNvbnRyb2xsZXIuanMiLCJob21lLnJvdXRlcy5qcyIsImhvbWUuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJGludGVycG9sYXRlUHJvdmlkZXIiLCJzdGFydFN5bWJvbCIsImVuZFN5bWJvbCIsImNvbnN0YW50IiwiYXBpVXJsIiwiYXBpVG9rZW4iLCJydW5BcHAiLCIkaHR0cCIsIkVOVl9WQVJTIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwicnVuIiwiJGluamVjdCIsIkhvbWVDb250cm9sbGVyIiwiZGF0YVNlcnZpY2UiLCIkdGltZW91dCIsInVpR21hcEdvb2dsZU1hcEFwaSIsInVpR21hcElzUmVhZHkiLCJhY3RpdmF0ZSIsImdldFJlcG9ydHMiLCJ0aGVuIiwiXyIsImNhbGN1bGF0ZVBlcmNlbnRhZ2UiLCJkYXRhIiwiZm9yRWFjaCIsInJlcG9ydCIsInN0YXR1cyIsInZtIiwicmVwb3J0cyIsInNlbnRSZXBvcnRzIiwicHVzaCIsImxvY2F0aW9uIiwiZ29vZ2xlIiwibWFwcyIsIkxhdExuZyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwid2VpZ2h0Iiwibm90UmVzb2x2ZWRSZXBvcnRzIiwicmVzb2x2ZWRSZXBvcnRzIiwidHJhbnNmZXJyZWRSZXBvcnRzIiwidG90YWxSZXBvcnRzIiwibGVuZ3RoIiwicmVzdWx0cyIsInJlcG9ydHNDaGFydENvbmZpZyIsInNlcmllcyIsIm5hbWUiLCJudW1fcmVwb3J0cyIsInkiLCJjb2xvciIsIk1vY2tIZWF0TGF5ZXIiLCJoZWF0TGF5ZXIiLCJjb25jYXQiLCJncmFkaWVudCIsInNldCIsImdldCIsInByb21pc2UiLCJpbnN0YW5jZXMiLCJwb2ludEFycmF5IiwibWFwIiwiTVZDQXJyYXkiLCJzZXREYXRhIiwidGhpcyIsInRpdGxlIiwiY2VudGVyIiwiem9vbSIsIm9wdGlvbnMiLCJtYXBUeXBlQ29udHJvbCIsIm1hcFNjYWxlQ29udHJvbCIsInN0cmVldFZpZXdDb250cm9sIiwibWF4Wm9vbSIsIm1pblpvb20iLCJzY3JvbGx3aGVlbCIsInNob3dIZWF0IiwiaGVhdExheWVyQ2FsbGJhY2siLCJsYXllciIsImNoYXJ0IiwidHlwZSIsInRvb2x0aXAiLCJwb2ludEZvcm1hdCIsInBsb3RPcHRpb25zIiwicGllIiwiY3Vyc29yIiwiZGF0YUxhYmVscyIsImVuYWJsZWQiLCJmb3JtYXQiLCJhbGxvd1BvaW50U2VsZWN0Iiwic2hvd0luTGVnZW5kIiwicG9pbnQiLCJldmVudHMiLCJsZWdlbmRJdGVtQ2xpY2siLCJlIiwicHJldmVudERlZmF1bHQiLCJjb2xvckJ5UG9pbnQiLCJ0ZXh0IiwiY29udHJvbGxlciIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlckFzIiwiZ2V0UmVwb3J0c0NvbXBsZXRlIiwicmVzcG9uc2UiLCJnZXRSZXBvcnRzRmFpbGVkIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJ0b3RhbCIsIm5ld19kYXRhIiwidmFsdWUiLCJyZXN1bHQiLCJzZXJ2aWNlIiwiZmFjdG9yeSJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQ0FDLE9BQUEsT0FBQSxVQUFBLG9CQUFBLGtCQ0RBLHVCQU1BLFNBQUFDLEdBQUFDLEdBQ0FBLEVBQUFDLFlBQUEsTUFDQUQsRUFBQUUsVUFBQSx5Q0FOQUwsUUFDQUMsT0FBQSxPQUNBQyxPQUFBQSxNQ0pBLFdBQ0EsTUFBQUYsU0FBQUMsT0FBQSxPQUNBSyxTQUFBLFlBQ0FDLE9BQUEsd0NBQ0FDLFNBQUEscUxDSkEsV0FDQSxZQU9BLFNBQUFDLEdBQUFDLEVBQUFDLEdBQ0FELEVBQUFFLFNBQUFDLFFBQUFDLE9BQUEsY0FBQSxPQUFBSCxFQUFBSCxTQVBBUixRQUNBQyxPQUFBLE9BQ0FjLElBQUFOLEdBRUFBLEVBQUFPLFNBQUEsUUFB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dCI6WyJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwJywgWyduZ1JvdXRlJywgICd1aUdtYXBnb29nbGUtbWFwcycsICdoaWdoY2hhcnRzLW5nJ10pO1xuICAgICIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcbiAgICAgICAgLmNvbmZpZyhjb25maWcpO1xuXG4gICAgZnVuY3Rpb24gY29uZmlnKCRpbnRlcnBvbGF0ZVByb3ZpZGVyKSB7XG4gICAgICAgJGludGVycG9sYXRlUHJvdmlkZXIuc3RhcnRTeW1ib2woJ3tfJyk7XG4gICAgICAgJGludGVycG9sYXRlUHJvdmlkZXIuZW5kU3ltYm9sKCdffScpO1xuICAgIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkgeyBcbiByZXR1cm4gYW5ndWxhci5tb2R1bGUoXCJhcHBcIilcbi5jb25zdGFudChcIkVOVl9WQVJTXCIsIHtcbiAgXCJhcGlVcmxcIjogXCJodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL3YxL3JlcG9ydHMvXCIsXG4gIFwiYXBpVG9rZW5cIjogXCJleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpJVXpJMU5pSjkuZXlKbGVIQWlPakUwTnpjMk5UQTFOalVzSW5WelpYSnVZVzFsSWpvaWJHVnZJaXdpWlcxaGFXd2lPaUpzWlc5QWJHVnZMbU52YlNJc0luVnpaWEpmYVdRaU9qRjkuaGZFSWNjd1J2bXh6STE2bWM5SzIxU2ZfUE1Jb1JQcWFSbktIa2ZzUGI2WVwiXG59KTtcblxufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcbiAgICAgICAgLnJ1bihydW5BcHApO1xuXG4gICAgcnVuQXBwLiRpbmplY3QgPSBbJyRodHRwJywgJ0VOVl9WQVJTJ107XG5cbiAgICBmdW5jdGlvbiBydW5BcHAoJGh0dHAsIEVOVl9WQVJTKSB7XG4gICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAnSldUICcgKyBFTlZfVkFSUy5hcGlUb2tlbjtcbiAgICB9XG5cbn0pKCk7XG5cbiIsIihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdhcHAnKVxuICAgICAgLmNvbnRyb2xsZXIoJ0hvbWVDb250cm9sbGVyJywgSG9tZUNvbnRyb2xsZXIpO1xuXG4gIEhvbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJ2RhdGFTZXJ2aWNlJywgJyR0aW1lb3V0JywgJ3VpR21hcEdvb2dsZU1hcEFwaScsICd1aUdtYXBJc1JlYWR5J107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIEhvbWVDb250cm9sbGVyKGRhdGFTZXJ2aWNlLCAgJHRpbWVvdXQsIHVpR21hcEdvb2dsZU1hcEFwaSwgdWlHbWFwSXNSZWFkeSkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgXG4gICAgdm0udGl0bGUgPSAnSG9tZUNvbnRyb2xsZXInO1xuICAgIHZtLnJlcG9ydHMgPSB7XG4gICAgICAnc2VudFJlcG9ydHMnOiBbXSxcbiAgICAgICdub3RSZXNvbHZlZFJlcG9ydHMnOiBbXSxcbiAgICAgICdyZXNvbHZlZFJlcG9ydHMnOiBbXSxcbiAgICAgICd0cmFuc2ZlcnJlZFJlcG9ydHMnOiBbXVxuICAgIH07XG4gICAgLy8gICAgIHN0eWxlczogICAgW3tcbiAgICAvLyAgIHRleHRDb2xvcjogJ3doaXRlJyxcbiAgICAvLyAgIHVybDogJ2h0dHA6Ly9zMTUucG9zdGltZy5vcmcvZnVhcXJyb3QzL3Jzel9jbHVzdGVyX3Jlc2l6ZS5wbmcnLFxuICAgIC8vICAgaGVpZ2h0OiA0MCxcbiAgICAvLyAgIHdpZHRoOiA0MCxcbiAgICAvLyAgIHRleHRTaXplOiAxMSxcbiAgICAvLyAgIGZvbnRXZWlnaHQ6ICdub3JtYWwnXG4gICAgLy8gfV1cbiAgICB2bS5tYXAgPSB7XG4gICAgICBjZW50ZXI6IHtsYXRpdHVkZTogLTE5LjczNjM5LCBsb25naXR1ZGU6IC00NS4yNTIyMn0sXG4gICAgICB6b29tOiAxNCxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgbWFwVHlwZUNvbnRyb2w6IGZhbHNlLFxuICAgICAgICBtYXBTY2FsZUNvbnRyb2w6IGZhbHNlLFxuICAgICAgICBzdHJlZXRWaWV3Q29udHJvbDogZmFsc2UsXG4gICAgICAgIG1heFpvb206IDE1LFxuICAgICAgICBtaW5ab29tOiAxNCxcbiAgICAgICAgc2Nyb2xsd2hlZWw6IGZhbHNlXG4gICAgICB9LFxuICAgICAgc2hvd0hlYXQ6IGZhbHNlLFxuICAgICAgaGVhdExheWVyQ2FsbGJhY2s6IGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgICB2YXIgbW9ja0hlYXRMYXllciA9IG5ldyBNb2NrSGVhdExheWVyKGxheWVyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdm0ucmVwb3J0c0NoYXJ0Q29uZmlnID0ge1xuICAgICAgb3B0aW9uczoge1xuICAgICAgICBjaGFydDoge1xuICAgICAgICAgIHR5cGU6ICdwaWUnXG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9vbHRpcDoge1xuICAgICAgICAgIHBvaW50Rm9ybWF0OiBcIntzZXJpZXMubmFtZX06IDxiPiB7cG9pbnQubnVtX3JlcG9ydHN9IDwvYj4gXCIgK1xuICAgICAgICAgIFwiPGJyLz48Yj57cG9pbnQucGVyY2VudGFnZTouMmZ9JTwvYj4gXCJcbiAgICAgICAgfSxcblxuICAgICAgICBwbG90T3B0aW9uczoge1xuICAgICAgICAgIHBpZToge1xuICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICBkYXRhTGFiZWxzOiB7XG4gICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgIGZvcm1hdDogJzxiPntwb2ludC5uYW1lfTwvYj46IHtwb2ludC5wZXJjZW50YWdlOi4yZn0gJScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWxsb3dQb2ludFNlbGVjdDogZmFsc2UsXG4gICAgICAgICAgICBzaG93SW5MZWdlbmQ6IHRydWUsXG4gICAgICAgICAgICBwb2ludDoge1xuICAgICAgICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgICAgICBsZWdlbmRJdGVtQ2xpY2s6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBzZXJpZXM6IFt7XG4gICAgICAgIG5hbWU6ICdOwrogZGUgRGVuw7puY2lhcycsXG4gICAgICAgIGNvbG9yQnlQb2ludDogdHJ1ZSxcbiAgICAgICAgZGF0YTogW11cbiAgICAgIH1dLFxuXG4gICAgICB0aXRsZToge1xuICAgICAgICB0ZXh0OiAnSGlzdMOzcmljbyBBdHVhbCBkZSBEZW7Dum5jaWFzIGRlIENyaWFkb3Vyb3MgZG8gQWVkZXMgQWVneXB0aSBkYSBDaWRhZGUgQm9tIERlc3BhY2hvJ1xuICAgICAgfVxuXG5cbiAgICB9O1xuXG4gICAgYWN0aXZhdGUoKTtcblxuICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgcmV0dXJuIGdldFJlcG9ydHMoKS50aGVuKGZ1bmN0aW9uIChfKSB7XG4gICAgICAgIGNhbGN1bGF0ZVBlcmNlbnRhZ2UoKTtcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UmVwb3J0cygpIHtcbiAgICAgIHJldHVybiBkYXRhU2VydmljZS5nZXRSZXBvcnRzKClcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGEsIGZ1bmN0aW9uIChyZXBvcnQpIHtcbiAgICAgICAgICAgICAgc3dpdGNoIChyZXBvcnQuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgLy8gRW52aWFkYXNcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICB2bS5yZXBvcnRzLnNlbnRSZXBvcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhyZXBvcnQubGF0aXR1ZGUsIHJlcG9ydC5sb25naXR1ZGUpLFxuICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDQwXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vIEVtIGFuw6FsaXNlXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgdm0ucmVwb3J0cy5ub3RSZXNvbHZlZFJlcG9ydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHJlcG9ydC5sYXRpdHVkZSwgcmVwb3J0LmxvbmdpdHVkZSksXG4gICAgICAgICAgICAgICAgICAgIHdlaWdodDogMTAwXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vIEZvY28gdHJhdGFkbyBvdSBuw6NvIGVuY29udHJhZG9cbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgdm0ucmVwb3J0cy5yZXNvbHZlZFJlcG9ydHMucHVzaCh7bG9jYXRpb246IG5ldyBnb29nbGUubWFwcy5MYXRMbmcocmVwb3J0LmxhdGl0dWRlLCByZXBvcnQubG9uZ2l0dWRlKX0pO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gdHJhbnNmZXJpZGFcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICB2bS5yZXBvcnRzLnRyYW5zZmVycmVkUmVwb3J0cy5wdXNoKHtsb2NhdGlvbjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhyZXBvcnQubGF0aXR1ZGUsIHJlcG9ydC5sb25naXR1ZGUpfSlcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlUGVyY2VudGFnZSgpIHtcbiAgICAgIHZhciB0b3RhbFJlcG9ydHMgPSB2bS5yZXBvcnRzLm5vdFJlc29sdmVkUmVwb3J0cy5sZW5ndGggKyB2bS5yZXBvcnRzLnJlc29sdmVkUmVwb3J0cy5sZW5ndGggK1xuICAgICAgICAgIHZtLnJlcG9ydHMuc2VudFJlcG9ydHMubGVuZ3RoICsgIHZtLnJlcG9ydHMudHJhbnNmZXJyZWRSZXBvcnRzLmxlbmd0aDtcblxuICAgICAgdmFyIHJlc3VsdHMgPSBkYXRhU2VydmljZS5jYWxjdWxhdGVQZXJjZW50YWdlKFxuICAgICAgICAgIFt2bS5yZXBvcnRzLnNlbnRSZXBvcnRzLmxlbmd0aCwgdm0ucmVwb3J0cy5ub3RSZXNvbHZlZFJlcG9ydHMubGVuZ3RoLFxuICAgICAgICAgICAgdm0ucmVwb3J0cy5yZXNvbHZlZFJlcG9ydHMubGVuZ3RoLCAgdm0ucmVwb3J0cy50cmFuc2ZlcnJlZFJlcG9ydHMubGVuZ3RoXSwgdG90YWxSZXBvcnRzXG4gICAgICApO1xuXG4gICAgICB2bS5yZXBvcnRzQ2hhcnRDb25maWcuc2VyaWVzWzBdLmRhdGEgPSBbe1xuICAgICAgICBuYW1lOiAnRW52aWFkYXMnLFxuICAgICAgICBudW1fcmVwb3J0czogdm0ucmVwb3J0cy5zZW50UmVwb3J0cy5sZW5ndGgsXG4gICAgICAgIHk6IHJlc3VsdHNbMF0sXG4gICAgICAgIGNvbG9yOiAnI0VFRUVFRSdcbiAgICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ0VtIGFuw6FsaXNlJyxcbiAgICAgICAgbnVtX3JlcG9ydHM6IHZtLnJlcG9ydHMubm90UmVzb2x2ZWRSZXBvcnRzLmxlbmd0aCxcbiAgICAgICAgeTogcmVzdWx0c1sxXSxcbiAgICAgICAgY29sb3I6ICcjN0YyQjExJ1xuICAgICAgfSwge1xuICAgICAgICBuYW1lOiAnUmVzb2x2aWRhcycsXG4gICAgICAgIG51bV9yZXBvcnRzOiB2bS5yZXBvcnRzLnJlc29sdmVkUmVwb3J0cy5sZW5ndGgsXG4gICAgICAgIHk6IHJlc3VsdHNbMl0sXG4gICAgICAgIGNvbG9yOiAnI0ZGNTcyMidcbiAgICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ1RyYW5zZmVyaWRhcycsXG4gICAgICAgIG51bV9yZXBvcnRzOiAgdm0ucmVwb3J0cy50cmFuc2ZlcnJlZFJlcG9ydHMubGVuZ3RoLFxuICAgICAgICB5OiByZXN1bHRzWzNdLFxuICAgICAgICBjb2xvcjogJyNGRjkxMTUnXG4gICAgICB9XTtcbiAgICB9XG5cbiAgICB1aUdtYXBHb29nbGVNYXBBcGkudGhlbihmdW5jdGlvbihtYXBzKSB7XG4gICAgICB2bS5tYXAuc2hvd0hlYXQgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gTW9ja0hlYXRMYXllcihoZWF0TGF5ZXIpIHtcbiAgICAgIC8vIEFwZW5hcyBkZW7Dum5jaWFzIHF1ZSBmb3JhbSBlbnZpYWRhcyBlIGFzIHF1ZWVzdMOjbyBlbSBhbmFsaXNlXG4gICAgICB2YXIgZGF0YSA9IHZtLnJlcG9ydHMuc2VudFJlcG9ydHMuY29uY2F0KHZtLnJlcG9ydHMubm90UmVzb2x2ZWRSZXBvcnRzKTtcbiAgICAgIHZhciBncmFkaWVudCA9IFtcbiAgICAgICAgJ3JnYmEoMjI5LCAxNTMsIDAsIDApJyxcbiAgICAgICAgJ3JnYmEoMjMxLCAxNDEsIDAsIDEpJyxcbiAgICAgICAgJ3JnYmEoMjMzLCAxMzAsIDEsIDEpJyxcbiAgICAgICAgJ3JnYmEoMjM1LCAxMTgsIDIsIDEpJyxcbiAgICAgICAgJ3JnYmEoMjM3LCAxMDcsIDMsIDEpJyxcbiAgICAgICAgJ3JnYmEoMjM5LCA5NiwgNCwgMSknLFxuICAgICAgICAncmdiYSgyNDEsIDg0LCA1LCAxKScsXG4gICAgICAgICdyZ2JhKDI0MywgNzMsIDUsIDEpJyxcbiAgICAgICAgJ3JnYmEoMjQ1LCA2MSwgNiwgMSknLFxuICAgICAgICAncmdiYSgyNDcsIDUwLCA2LCAxKScsXG4gICAgICAgICdyZ2JhKDI0OSwgMzksIDcsIDEpJyxcbiAgICAgICAgJ3JnYmEoMjUxLCAyNywgOCwgMSknLFxuICAgICAgICAncmdiYSgyNTMsIDE2LCA5LCAxKScsXG4gICAgICAgICdyZ2JhKDI1NSwgNSwgMTAsIDEpJ1xuICAgICAgXTtcbiAgICAgIGhlYXRMYXllci5zZXQoJ2dyYWRpZW50JywgaGVhdExheWVyLmdldCgnZ3JhZGllbnQnKSA/IG51bGwgOiBncmFkaWVudCk7XG4gICAgICBoZWF0TGF5ZXIuc2V0KCdyYWRpdXMnLCAyMCk7XG4gICAgICBoZWF0TGF5ZXIuc2V0KCdvcGFjaXR5JywgMC43KTtcbiAgICAgIC8vICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHVpR21hcElzUmVhZHkucHJvbWlzZSgpLnRoZW4oZnVuY3Rpb24oaW5zdGFuY2VzKXtcbiAgICAgICAgdmFyIG1hcHMgPSBpbnN0YW5jZXNbMF0ubWFwO1xuICAgICAgICB2YXIgcG9pbnRBcnJheSA9IG5ldyBnb29nbGUubWFwcy5NVkNBcnJheShkYXRhKTtcbiAgICAgICAgaGVhdExheWVyLnNldERhdGEocG9pbnRBcnJheSlcbiAgICAgIH0pO1xuXG5cbiAgICAgIC8vIH0sIDEwMDApO1xuICAgIH1cbiAgfVxuXG59KSgpO1xuXG4iLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcbiAgICAgICAgLmNvbmZpZyhjb25maWcpO1xuXG4gICAgZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyKSB7XG4gICAgICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgICAgICAgICAud2hlbignLycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Jhc2UuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0hvbWVDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAnKVxuICAgICAgICAuZmFjdG9yeSgnZGF0YVNlcnZpY2UnLCBkYXRhU2VydmljZSk7XG5cbiAgICBkYXRhU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICdFTlZfVkFSUyddO1xuXG4gICAgZnVuY3Rpb24gZGF0YVNlcnZpY2UoJGh0dHAsIEVOVl9WQVJTKSB7XG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgZ2V0UmVwb3J0czogZ2V0UmVwb3J0cyxcbiAgICAgICAgICAgIGNhbGN1bGF0ZVBlcmNlbnRhZ2U6IGNhbGN1bGF0ZVBlcmNlbnRhZ2VcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gc2VydmljZTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0UmVwb3J0cygpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoRU5WX1ZBUlMuYXBpVXJsKVxuICAgICAgICAgICAgICAgIC50aGVuKGdldFJlcG9ydHNDb21wbGV0ZSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZ2V0UmVwb3J0c0ZhaWxlZCk7XG5cblxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0UmVwb3J0c0NvbXBsZXRlKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFJlcG9ydHNGYWlsZWQoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVBlcmNlbnRhZ2UoZGF0YSwgdG90YWwpe1xuICAgICAgICAgICAgdmFyIG5ld19kYXRhID0gW107XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YSwgZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSAoKHZhbHVlL3RvdGFsKSAqIDEwMCk7XG4gICAgICAgICAgICAgICAgbmV3X2RhdGEucHVzaChyZXN1bHQpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBuZXdfZGF0YTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG5cbn0pKCk7XG5cbiJdfQ==
